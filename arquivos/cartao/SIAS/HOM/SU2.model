//JHDEVOPS JOB (,PN),'ID_EXECUTOR',CLASS=A,MSGCLASS=T,MSGLEVEL=(1,1),
//      REGION=0M
//*PROGRAM: ID_PROGRAMA
/*ROUTE PRINT JES2PRD1
//AD0062B  EXEC PGM=IKJEFT01,REGION=0M
//STEPLIB  DD DSN=DSNC10.DB2M.SDSNLOAD,DISP=SHR
//         DD DSN=HOM.V01.LOAD,DISP=SHR
//SYSTSPRT DD SYSOUT=*
//SYSPRINT DD SYSOUT=*
//SYSUDUMP DD SYSOUT=*
//ARQSTOP  DD DSN=&&ARQSTOP,DISP=(MOD,PASS),UNIT=SYSALLDA,
//            SPACE=(TRK,(1,1),RLSE)
//ARQSTART DD DSN=&&ARQSTART,DISP=(MOD,PASS),UNIT=SYSALLDA,
//            SPACE=(TRK,(1,1),RLSE)
//ARQWLM   DD DSN=&&ARQWLM,DISP=(MOD,PASS),UNIT=SYSALLDA,
//            SPACE=(TRK,(1,1),RLSE)
//SYSOUT   DD SYSOUT=*
//SYSTSIN  DD *
 DSN SYSTEM(DB2M)
 RUN PROGRAM(AD0062B) PLAN(SIASBAT)     -
         LIB('HOM.V01.LOAD')            -
         PARMS('DB2M ID_PROGRAMA')
 END
/*
//STOP     EXEC PGM=IKJEFT01,DYNAMNBR=20,COND=(4,LT),REGION=0M
//STEPLIB  DD  DSN=DSNC10.DB2M.SDSNLOAD,DISP=SHR
//SYSTSPRT DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//SYSIN    DD DUMMY
//SYSTSIN  DD DSN=&&ARQSTOP,DISP=(OLD,DELETE)
//ID_PROGRAMA  EXEC RZUNISP,MEM=ID_PROGRAMA,COND=(4,LT),REGION=0M
//LKED.SYSIN DD *
 INCLUDE SYSLIB(DSNHLI)
 NAME ID_PROGRAMA(R)
/*
//*
//BIND1    EXEC BINDHOM,
//         COND=((4,LT,ID_PROGRAMA.PC),
//         (4,LT,ID_PROGRAMA.COB),
//         (4,LT,ID_PROGRAMA.LKED))
//SYSTSIN  DD *
  DSN SYSTEM(DB2M)
      BIND PACKAGE (SIASBAT)  OWNER(SEGUROS) QUALIFIER(SEGUROS) +
           MEMBER(ID_PROGRAMA) LIB('HOM.SIA.V00.DBRMLIB.DATA') +
           DEGREE(ANY) ENABLE(BATCH) EXPLAIN(NO) ISOLATION(CS) +
           RELEASE(COMMIT) VALIDATE(BIND) ACT(REP)
 END
/*
//BIND2    EXEC BINDHOM,
//         COND=((4,LT,ID_PROGRAMA.PC),
//         (4,LT,ID_PROGRAMA.COB),
//         (4,LT,ID_PROGRAMA.LKED))
//SYSTSIN  DD *
  DSN SYSTEM(DB2M)
      BIND PACKAGE (NULLID) OWNER(SEGUROS) QUALIFIER(SEGUROS) +
           MEMBER(ID_PROGRAMA) LIB('HOM.SIA.V00.DBRMLIB.DATA')  +
           DEGREE(ANY) ENABLE(REMOTE) EXPLAIN(NO) ISOLATION(CS)  +
           RELEASE(COMMIT) VALIDATE(BIND) ACT(REP) DBPROTOCOL(DRDA)
 END
/*
//REFRESH  EXEC PGM=SUPCMD,COND=(4,LT),REGION=0M
//STEPLIB  DD DISP=SHR,DSN=SUP.MVS.LINKLIB
//CMD      DD DSN=&&ARQWLM,DISP=(MOD,PASS),UNIT=SYSALLDA,
//            SPACE=(TRK,(1,1),RLSE)
//START    EXEC PGM=IKJEFT01,DYNAMNBR=20,COND=(4,LT),REGION=0M
//STEPLIB  DD  DSN=DSNC10.DB2M.SDSNLOAD,DISP=SHR
//SYSTSPRT DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//SYSIN    DD DUMMY
//SYSTSIN  DD DSN=&&ARQSTART,DISP=(OLD,DELETE)
/*
//         IF (AD0062B.RC < 8 AND STOP.RC < 8
//         AND ID_PROGRAMA.PC.RC < 8 AND ID_PROGRAMA.COB.RC < 8
//         AND ID_PROGRAMA.LKED.RC < 8 AND BIND1.BINDHOM.RC < 8
//         AND BIND2.BINDHOM.RC < 8 AND REFRESH.RC < 8
//         AND START.RC < 8) THEN
//COMPOK   EXEC PGM=ICEMAN
//SYSOUT   DD SYSOUT=*
//SORTIN   DD *
ID_PROGRAMA;OK;SU2;DATA_HORA;ID_EXECUTOR;JV1
/*
//SORTOUT  DD DSN=HOM.V01.GCM.SYSOUT.OK.NOK(ID_PROGRAMA),
//         DISP=(OLD,CATLG,CATLG),SPACE=(TRK,(1,1,1)),
//         UNIT=SYSDA
//SYSIN DD *
  OPTION COPY
/*
//         ENDIF
//*
//         IF (AD0062B.RC > 4 OR STOP.RC > 4
//         OR ID_PROGRAMA.PC.RC > 4 OR ID_PROGRAMA.COB.RC > 4
//         OR ID_PROGRAMA.LKED.RC > 4 OR BIND1.BINDHOM.RC > 4
//         OR BIND2.BINDHOM.RC > 4 OR REFRESH.RC > 4
//         OR START.RC > 4) THEN
//COMPNOK   EXEC PGM=ICEMAN
//SYSOUT   DD SYSOUT=*
//SORTIN   DD *
ID_PROGRAMA;NOK;SU2;DATA_HORA;ID_EXECUTOR;JV1
/*
//SORTOUT  DD DSN=HOM.V01.GCM.SYSOUT.OK.NOK(ID_PROGRAMA),
//         DISP=(OLD,CATLG,CATLG),SPACE=(TRK,(1,1,1)),
//         UNIT=SYSDA
//SYSIN DD *
  OPTION COPY
/*
//         ENDIF
//*
